<head>
  <title>Meteor Cluster Test</title>
</head>

<body>

  <div class="container">

    <div class="info">
      <h1>Currently connected to</h1>
      {{> clusterInfo config}}
    </div>
    <div class="action">
      {{> callMethod}}
    </div>

  </div>
  <!-- /.container -->

</body>

<template name="clusterInfo">
  <h2>{{HOSTNAME}}</h2>
  <table class="table table-striped table-hover ">
    <thead>
      <tr>
        <th>Environment Variable Name</th>
        <th>Variable Content</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>CLUSTER_DISCOVERY_URL</td>
        <td>{{CLUSTER_DISCOVERY_URL}}</td>
      </tr>
      <tr>
        <td>CLUSTER_ENDPOINT_URL</td>
        <td>{{CLUSTER_ENDPOINT_URL}}</td>
      </tr>
      <tr>
        <td>CLUSTER_SERVICE</td>
        <td>{{CLUSTER_SERVICE}}</td>
      </tr>
      <tr>
        <td>CLUSTER_BALANCER_URL</td>
        <td>{{CLUSTER_BALANCER_URL}}</td>
      </tr>
      <tr>
        <td>CLUSTER_UI_SERVICE</td>
        <td>{{CLUSTER_UI_SERVICE}}</td>
      </tr>
      <tr>
        <td>CLUSTER_PUBLIC_SERVICES</td>
        <td>{{CLUSTER_PUBLIC_SERVICES}}</td>
      </tr>
      <tr>
        <td>CLUSTER_SELF_WEIGHT</td>
        <td>{{CLUSTER_SELF_WEIGHT}}</td>
      </tr>
      <tr>
        <td>MONGO_URL</td>
        <td>{{MONGO_URL}}</td>
      </tr>
      <tr>
        <td>ROOT_URL</td>
        <td>{{ROOT_URL}}</td>
      </tr>
      <tr>
        <td>PORT</td>
        <td>{{PORT}}</td>
      </tr>
    </tbody>
  </table>
</template>

<template name="callMethod">
  <button class="hello">Trigger method on backend service</button>
  {{#with result}} {{#if error}}
  <p>There was an error: {{error}}!
  </p>
  {{else}}
  <h1>Reply from</h1>{{> clusterInfo result}} {{/if}} {{/with}}
</template>